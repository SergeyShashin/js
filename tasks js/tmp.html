<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .red {
      color: red;
    }

    :not(red) {
      color: black;
    }
  </style>
</head>

<body>
  <!-- <ol>
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
  </ol>

  <button>Добавить изображение</button> -->

  <!-- <script>
    'use strict';

    // document.querySelector('button').onclick = () => {
    //   let imgEl = new Image();
    //   imgEl.src = 'jsw.jpg';
    //   imgEl.onload = () => document.body.appendChild(imgEl);
    // }

    document.querySelector('button').onclick = () => {

      loadImg('jsw.jpg', callback);


      function callback(imgEl, err) {
        if (err) {
          console.log(err);
        } else {
          document.body.appendChild(imgEl);
        }
      }

      function loadImg(path, callback) {

        let imgEl = new Image();
        imgEl.src = path;
        let errMsg;

        imgEl.onload = () => {
          callback(imgEl, errMsg);
        }

        imgEl.onerror = () => {
          errMsg = 'Картинка не загружена.';
          callback(imgEl, errMsg);
        }
      }

    }

    function numering(arr) {
      return arr.map((el, idx) => `${idx + 1}: ${el}`);
    }

    console.log(numering(['a', 'b', 'c']));

    document.querySelector('ol').onclick = e => e.target.tagName === 'LI' ? e.target.classList.toggle('red') : '';

  </script> -->

  <!-- <script>
    let promise = new Promise(resolve => {
      setTimeout(() => resolve('Welcome World!'), 5000);
    });

    promise.then(result => console.log(result));
  </script> -->

  <!-- <script>
    let promise = new Promise((resolve, reject) => {

      let rndNum = Math.floor(Math.random() * 5);

      if (rndNum === 0) {
        reject('Деление на ноль.');
      } else {
        resolve(1/rndNum);
      }

    });

    promise.then(result => console.log(result), error => console.log(error) );

  </script> -->

  <!-- <script>
    let promise = new Promise((resolve, reject) => {

      let rndNum = Math.floor(Math.random() * 5);

      if (rndNum === 0) {
        // reject(new Error('Деление на ноль.'));
        throw new Error('Деление на ноль.');
      } else {
        resolve(1 / rndNum);
      }

    });

    promise.then(result => console.log(result), error => console.log(error));

  </script> -->

  <!-- <script>

    loadImg('jsw.jpg').then(res => document.body.appendChild(res)).catch(error => console.log(error));

    function loadImg(path) {
      return new Promise((resolve, reject) => {
        let imgEl = new Image();
        imgEl.src = path;
        imgEl.onload = () => resolve(imgEl);
        imgEl.onerror = () => reject(new Error(`Ошибка при загрузке ${path}`));
      })
    }
  </script> -->

  <script>
    let paths = ['jsw.jpg', 'jsw.jpg', 'jsw.jpg'];
    let promises = [];

    paths.map(path => {
      promises.push(loadImg(path));
    });

    Promise.all(promises).then(res => res.map(img => document.body.appendChild(img))).catch(error => console.log(error));

    loadImg('jsw.jpg').then(res => document.body.appendChild(res)).catch(error => console.log(error));

    function loadImg(path) {
      return new Promise((resolve, reject) => {
        let imgEl = new Image(800);
        imgEl.src = path;
        imgEl.onload = () => resolve(imgEl);
        imgEl.onerror = () => reject(new Error(`Ошибка при загрузке ${path}`));
      })
    }    
  </script>

  <script>
    function DOMContentLoaded() {
      return new Promise(resolve => window.addEventListener('DOMContentLoaded', function () { resolve('Контент загружен.') }))
    }

    DOMContentLoaded().then(result => console.log(result));
  </script>
</body>

</html>