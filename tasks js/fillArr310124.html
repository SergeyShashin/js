<script>

  /*
  Возвращает двумерный массив, заполненный против часовой стрелки.
  */
  function fillArr(rows, cols) {
    const resultArr = [];
    const maxValue = rows * cols;
    let counter = 1;
    let row = 0;
    let col = 0;
    const directions = ['down', 'right', 'up', 'left'];
    let direction = 0;
    let depth = 0;

    for (let i = 0; i < rows; i++) {
      resultArr.push(Array(cols).fill(1));
    }

    for (let i = 0; i < maxValue; i++, counter++) {
      counter < 10 ? resultArr[row][col] = ' ' + counter : resultArr[row][col] = '' + counter;

      if (
        row + 1 === rows - depth && col === depth
        || col + 1 === cols - depth && row === rows - 1 - depth // row3col3 должен повернуть
        || row - 1 === depth - 1 && col === cols - 1 - depth
        || col - 1 === depth && row === depth
      ) {
        direction++;
        if (col - 1 === depth && row === depth) {
          direction = 0;
          depth++;
        }
      }

      switch (directions[direction]) {
        case 'down':
          row++;
          break;
        case 'right':
          col++;
          break;
        case 'up':
          row--;
          break;
        case 'left':
          col--;
          break;
      }

    }

    return resultArr
  }

  // console.log(fillArr(3, 3));
  /*
  [                                 
    [1,8,7],     
    [2,9,6],     
    [3,4,5],   
  ]                         
  */
  // console.log(fillArr(3, 4));
  /*
  [
    [1, 10,  9,  8],
    [2, 11, 12,  7],
    [3,  4,  5,  6],
  ]

  */

  console.log(fillArr(4, 3));


</script>