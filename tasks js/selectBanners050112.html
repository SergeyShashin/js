<script>

  /*
  Возвращает запрошенное количество случайных баннеров с учётом веса wheight.
  Чем больше weight, тем больше шансов на выбор.
  Повторов быть не должно.
  Если число запрошенных баннеров больше или равно количеству банеров в массиве banners,
  вернуть все баннеры из массива. 
  */

  function selectBanners(banners, count) {

    if (banners.length <= count) {
      return banners;
    }

    const bannersForChoose = [];

    const result = [];

    banners.map(el => {
      let quantity = el.weight;
      while (quantity) {
        bannersForChoose.push(el);
        quantity--;
      }
    });

    while (result.length < count) {
      let randomNumber = Math.floor(Math.random() * bannersForChoose.length);
      result.includes(bannersForChoose[randomNumber]) ? '' : result.push(bannersForChoose[randomNumber]);
    }

    return result
  }

  const banners = [
    { id: 2, weight: 10 },
    { id: 4, weight: 5 },
    { id: 8, weight: 15 },
    { id: 22, weight: 18 },
    { id: 41, weight: 41 },
    { id: 53, weight: 1 },
    { id: 69, weight: 9 },
  ];

  console.log(selectBanners(banners, 5));


</script>