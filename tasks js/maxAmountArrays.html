<script>

  /*
  В функцию передаётся двумерный массив в виде треугольника (горки).
  Найти наибольшую сумму при прохождение от вершины до низа треугольника.
  С числа сверху мы можем переходить лишь на нижнее число и его соседей.
  Массив может иметь очень большое количество вложенных массивов.
  Проверять на правильность массив не нужно, передается всегда правильно составленный массив.
  */
  function maxSum(arr) {
    const resArr = Array.from(arr);

    for (let i = arr.length - 2; i > -1; i--) {
      resArr[i] = resArr[i].map((el, idx) => {
        return el + Math.max(...resArr[i + 1].slice(idx > 0 ? idx - 1 : 0, idx + 2));
      });
    }

    return resArr[0][0];

  }

  console.log(maxSum([
    [1],
    [8, 7],
    [9, 2, 9],
    [1, 3, 5, 9]
  ])); //21

  console.log(maxSum([
    [1],
    [-3, -4],
    [2, 1, 9],
  ])); //6


</script>